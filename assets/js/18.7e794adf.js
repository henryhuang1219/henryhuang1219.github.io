(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{563:function(t,s,a){"use strict";a.r(s);var r=a(12),e=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[t._v("原本是將 Server 架在實機上，由於在外租屋固定 IP 不好處理及電費因素考量下，決定改為使用 GCP 的 "),a("strong",[t._v("Compute Engine")]),t._v("。\n將架設過程中所使用到的指令及套件稍作整理記錄下來。")])]),t._v(" "),a("h2",{attrs:{id:"google-cloud-platform"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#google-cloud-platform"}},[t._v("#")]),t._v(" Google Cloud Platform")]),t._v(" "),a("h3",{attrs:{id:"建立-compute-engine"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#建立-compute-engine"}},[t._v("#")]),t._v(" 建立 Compute Engine")]),t._v(" "),a("p",[t._v("這裡依照 Google Cloud Engine 免費方案的地區以及機器設定配置。\n"),a("img",{attrs:{src:"https://i.imgur.com/ieqOxbj.png",alt:"Google Cloud Engine Free Program"}})]),t._v(" "),a("p",[t._v("開機磁碟配置。"),a("br"),t._v(" "),a("img",{attrs:{src:"https://i.imgur.com/Mi42KpG.png",alt:"開機磁碟"}})]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"title"}),a("p",[t._v("10 GB 在安裝完 "),a("a",{attrs:{href:"#oneinstack"}},[t._v("OneinStack")]),t._v("，所剩的儲存空間會不足後續使用。")])]),a("h3",{attrs:{id:"設定-ssh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#設定-ssh"}},[t._v("#")]),t._v(" 設定 SSH")]),t._v(" "),a("p",[t._v("創建並取得 SSH 公鑰：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" ~/.ssh\nssh-keygen -t rsa -f ~/.ssh/KEY_FILENAME -C USER_NAME -b "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2048")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" ~/.ssh/KEY_FILENAME.pub\n")])])]),a("div",{staticClass:"language-vim extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[t._v("ssh"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDAu5kKQCPF"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v(" cloudysanfrancisco\n")])])]),a("p",[t._v("進入 VM 詳細資訊，點擊編輯，加入 SSH 公鑰。"),a("br"),t._v(" "),a("img",{attrs:{src:"https://i.imgur.com/JCyCDwe.png",alt:"SSH"}})]),t._v(" "),a("p",[t._v("測試 SSH 連線：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" -i ~/.ssh/KEY_FILENAME USER_NAME@EXTERNAL_IP\n")])])]),a("h2",{attrs:{id:"ubuntu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu"}},[t._v("#")]),t._v(" Ubuntu")]),t._v(" "),a("h3",{attrs:{id:"設定-root"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#設定-root"}},[t._v("#")]),t._v(" 設定 root")]),t._v(" "),a("p",[t._v("避免執行某些命令時需要一直重複加上"),a("code",[t._v("sudo")]),t._v("的這個困擾，在開始前即可先初始化 root 的密碼：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("passwd")]),t._v(" root\n")])])]),a("p",[t._v("切換至 root：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("su")]),t._v(" -\n")])])]),a("h2",{attrs:{id:"oneinstack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oneinstack"}},[t._v("#")]),t._v(" OneinStack")]),t._v(" "),a("p",[t._v("至 OneinStack 官網選擇"),a("a",{attrs:{href:"https://oneinstack.com/auto/",target:"_blank",rel:"noopener noreferrer"}},[t._v("自動安裝"),a("OutboundLink")],1),t._v("，依照自己需求選擇預設配置，可再針對預設配置做進一步的編輯。\n"),a("img",{attrs:{src:"https://i.imgur.com/Pun5v0w.png",alt:"OneinStack"}})]),t._v(" "),a("p",[t._v("執行 OneinStack 所產生的命令，需等待約 1 個小時左右：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" -c http://mirrors.linuxeye.com/oneinstack-full.tar.gz "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" xzf oneinstack-full.tar.gz "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" ./oneinstack/install.sh --nginx_option "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" --db_option "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" --dbinstallmethod "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" --dbrootpwd YOUR_ROOT_PASSWORD --reboot\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"title"}),a("p",[t._v("需在 "),a("strong",[t._v("root")]),t._v(" 權限下執行。")])]),a("h2",{attrs:{id:"mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[t._v("#")]),t._v(" MySQL")]),t._v(" "),a("p",[t._v("查看 MySQL 服務狀態：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" mysql status\n")])])]),a("div",{staticClass:"language-vim extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[t._v("● mysqld"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("service "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" LSB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" start and "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("stop")]),t._v(" MySQL\n   Loaded"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" loaded "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("init"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("d")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mysqld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("bad")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" vendor preset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" enabled"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   Active"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" active "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("running"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" since Mon "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("08")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(" CST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" days ago\n     Docs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" man"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("systemd"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("sysv"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    Tasks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),t._v("\n   Memory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("1M\n      CPU"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 5min "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("182s\n   CGroup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("system"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("slice"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mysqld"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("service\n           ├─"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1838")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bin")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sh")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bin")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mysqld_safe "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("datadir"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mysql "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("pid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("pid\n           └─"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2895")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bin")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mysqld "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("basedir"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mysql "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("datadir"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mysql "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("dir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("plugin "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mysql "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("log"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("log "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("files")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("limit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("65535")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("pid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("pid\n")])])]),a("p",[t._v("進入 MySQL CLI：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("mysql -u root -p\n")])])]),a("div",{staticClass:"language-vim extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[t._v("Welcome "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("to")]),t._v(" the MySQL monitor"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("  Commands end with "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" or \\g"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("\nYour MySQL connection id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("is")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),t._v("\nServer "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.7")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("36")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("log MySQL Community Server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GPL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nCopyright "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("c")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Oracle and"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("or its affiliates"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("\nOracle "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("is")]),t._v(" a registered trademark of Oracle Corporation and"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("or its\naffiliates"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v(" Other names may "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("be")]),t._v(" trademarks of their respective\nowners"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("\nType "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'help;'")]),t._v(" or "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\h'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("help")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v(" Type "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\c'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("to")]),t._v(" clear the current input statement"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("\nMySQL "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n")])])]),a("p",[t._v("創建 Database：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("CREATE DATABASE DATABASE_NAME CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("這時就可以利用前面所提到的 "),a("a",{attrs:{href:"#%E8%A8%AD%E5%AE%9A-ssh"}},[t._v("SSH")]),t._v(" 來連線資料庫。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[t._v("推薦使用 "),a("a",{attrs:{href:"https://www.jetbrains.com/datagrip/",target:"_blank",rel:"noopener noreferrer"}},[t._v("DataGrip"),a("OutboundLink")],1),t._v("，使用方式這邊不多贅述。")])]),a("h2",{attrs:{id:"django-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#django-server"}},[t._v("#")]),t._v(" Django Server")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[t._v("應用配置在 "),a("a",{attrs:{href:"https://github.com/henryhuang1219/Django-WhatToEat",target:"_blank",rel:"noopener noreferrer"}},[t._v("Django - WhatToEat"),a("OutboundLink")],1),t._v(" 裡有詳細敘述，記得運行服務前需使用 "),a("strong",[t._v("screen")]),t._v("。")])]),a("h2",{attrs:{id:"jdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jdk"}},[t._v("#")]),t._v(" JDK")]),t._v(" "),a("h3",{attrs:{id:"上傳-jdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#上傳-jdk"}},[t._v("#")]),t._v(" 上傳 JDK")]),t._v(" "),a("p",[t._v("下載 "),a("a",{attrs:{href:"https://www.oracle.com/java/technologies/javase/javase8u211-later-archive-downloads.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("JDK 1.8"),a("OutboundLink")],1),t._v("，選擇 "),a("strong",[t._v("Linux x64 Compressed Archive")]),t._v("。")]),t._v(" "),a("p",[t._v("使用 SCP 將檔案上傳至 GCP：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scp")]),t._v(" -i ~/.ssh/KEY_FILENAME ~/Downloads/jdk-8u301-linux-x64.tar.gz USER_NAME@EXTERNAL_IP:~\n")])])]),a("h3",{attrs:{id:"jdk-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jdk-配置"}},[t._v("#")]),t._v(" JDK 配置")]),t._v(" "),a("p",[t._v("解壓縮 tar.gz：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" -zxvf jdk-8u301-linux-x64.tar.gz\n")])])]),a("p",[t._v("移動 JDK 資料夾至 "),a("code",[t._v("/usr/local/jdk/")]),t._v(" 之下：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" /usr/local/jdk\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mv")]),t._v(" jdk1.8.0_301 /usr/local/jdk/\n")])])]),a("p",[t._v("新增捷徑目錄：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /usr/local/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ln")]),t._v(" -s jdk/jdk1.8.0_301/ java\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[t._v("之後 JDK 更版只要把 java 捷徑指向不同路徑即可，不再需要去調整環境變數。")])]),a("p",[t._v("加入環境變數設定：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" /etc/profile\n")])])]),a("div",{staticClass:"language-vim extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("\n\nexport JAVA_HOME"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("java\nexport JRE_HOME"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("$JAVA_HOME"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jre\nexport PATH"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("$JAVA_HOME"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$JRE_HOME"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$PATH\nexport CLASSPATH"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("$CLASSPATH"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$JAVA_HOME"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$JRE_HOME"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib\n")])])]),a("p",[t._v("查看 Java 版本：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("java -version\n")])])]),a("div",{staticClass:"language-vim extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[t._v("java "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("version")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.8.0_202"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Java")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" SE Runtime Environment "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("build "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("0_202"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("b08"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nJava "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("HotSpot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Bit Server VM "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("build "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("25.202")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("b08"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mixed "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("mode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"ktor-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ktor-server"}},[t._v("#")]),t._v(" Ktor Server")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[t._v("應用配置在 "),a("a",{attrs:{href:"https://github.com/henryhuang1219/Ktor-WhatToEat",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ktor - WhatToEat"),a("OutboundLink")],1),t._v(" 裡有詳細敘述，記得運行服務前需使用 "),a("strong",[t._v("screen")]),t._v("。")])]),a("h2",{attrs:{id:"nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[t._v("#")]),t._v(" Nginx")]),t._v(" "),a("p",[t._v("查看 Nginx 服務狀態：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" nginx status\n")])])]),a("div",{staticClass:"language-vim extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[t._v("● nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("service "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" nginx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" high performance web server\n   Loaded"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" loaded "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("systemd"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("system"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" enabled"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" vendor preset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" enabled"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   Active"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" active "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("running"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" since Wed "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("59")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" CST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" days ago\n     Docs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("en")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("docs"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n Main PID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("21706")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    Tasks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n   Memory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("4M\n      CPU"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("595s\n   CGroup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("system"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("slice"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("service\n           ├─"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("21706")]),t._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" master process "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("c")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("conf")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("con")]),t._v("\n           ├─"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("21711")]),t._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" worker process                                          \n           └─"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("21712")]),t._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" worker process                                          \nNov "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("59")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" what"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("to")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("eat systemd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Starting nginx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" high performance web server"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("\nNov "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("59")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" what"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("to")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("eat nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("21681")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" the configuration "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("file")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("conf")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("conf")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("syntax")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("is")]),t._v(" ok\nNov "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("59")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" what"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("to")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("eat nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("21681")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" configuration "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("file")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("conf")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("conf")]),t._v(" test "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("is")]),t._v(" successful\nNov "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("59")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" what"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("to")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("eat systemd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Started nginx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" high performance web server"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("\n")])])]),a("h3",{attrs:{id:"創建-virtual-host"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#創建-virtual-host"}},[t._v("#")]),t._v(" 創建 Virtual Host")]),t._v(" "),a("p",[t._v("確認 Nginx 正常運行後，便可在 "),a("a",{attrs:{href:"http://EXTERNAL_IP/###vhost",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://EXTERNAL_IP/###vhost"),a("OutboundLink")],1),t._v(" 網頁中查看教學。")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"title"}),a("p",[t._v("新增完 Virtual Host 的域名後，記得去設定對應的 "),a("strong",[t._v("CNAME")]),t._v("。")])]),a("h3",{attrs:{id:"設定-reverse-proxy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#設定-reverse-proxy"}},[t._v("#")]),t._v(" 設定 Reverse Proxy")]),t._v(" "),a("p",[t._v("修改 Virtual Host 的設定檔：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" /usr/local/nginx/conf/vhost/DOMAIN_NAME.conf\n")])])]),a("div",{staticClass:"language-vim extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[t._v("server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  listen "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  listen "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  server_name DOMAIN_NAME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  access_log off"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n  location ~ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\\"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("user\\"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("ini|\\"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("ht|\\"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("git|\\"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("svn|\\"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("project|LICENSE|README\\"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("md"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    deny "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  location ~ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    proxy_pass http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("SERVER_PORT_NUMBER"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[t._v("SERVER_PORT_NUMBER 即是所架設服務的 Port 號。 例如：Django 預設為 8000，根據專案配置設定 Port 號。")])]),a("p",[t._v("更改完成後，重新啟動 Nginx：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" nginx restart\n")])])]),a("h2",{attrs:{id:"參考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#參考"}},[t._v("#")]),t._v(" 參考")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://a35205905.github.io/2020/07/20/Ubuntu-18-04-LTS-Apache-Django/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ubuntu 18.04 LTS+Apache+Django"),a("OutboundLink")],1),a("br"),t._v(" "),a("a",{attrs:{href:"https://cloud.google.com/free/docs/gcp-free-tier/#compute",target:"_blank",rel:"noopener noreferrer"}},[t._v("Google Cloud Free Program"),a("OutboundLink")],1),a("br"),t._v(" "),a("a",{attrs:{href:"https://cloud.google.com/compute/docs/instances/connecting-advanced#thirdpartytools",target:"_blank",rel:"noopener noreferrer"}},[t._v("Connecting using third-party tools"),a("OutboundLink")],1),a("br"),t._v(" "),a("a",{attrs:{href:"https://cloud.google.com/compute/docs/connect/create-ssh-keys#create_an_ssh_key_pair",target:"_blank",rel:"noopener noreferrer"}},[t._v("Create an SSH key pair"),a("OutboundLink")],1),a("br"),t._v(" "),a("a",{attrs:{href:"https://cloud.google.com/compute/docs/instances/transfer-files#scp",target:"_blank",rel:"noopener noreferrer"}},[t._v("Transfer files using SCP on Linux and macOS workstations"),a("OutboundLink")],1),a("br"),t._v(" "),a("a",{attrs:{href:"https://oneinstack.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("OneinStack"),a("OutboundLink")],1),a("br"),t._v(" "),a("a",{attrs:{href:"https://ithelp.ithome.com.tw/articles/10210961",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux 安裝 JDK 開發環境"),a("OutboundLink")],1),a("br")])])}),[],!1,null,null,null);s.default=e.exports}}]);